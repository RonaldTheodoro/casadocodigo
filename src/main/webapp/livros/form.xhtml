<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Casa do Código - Cadastro de livros</title>
    </h:head>

    <h:form enctype="multipart/form-data">
        <div>
            <h:outputLabel value="Título"/>
            <h:inputText
                id="titulo"
                value="#{adminLivrosBean.livro.titulo}"
                required="true" />
            <h:message for="titulo"/>
        </div>
        <div>
            <h:outputLabel value="Descrição"/>
            <h:inputTextarea
                id="descricao"
                value="#{adminLivrosBean.livro.descricao}"
                rows="4" 
                cols="20"
                required="true"/>
            <h:message for=""/>
        </div>
        <div>
            <h:outputLabel value="Número de Páginas"/>
            <h:inputText
                id="paginas"
                value="#{adminLivrosBean.livro.numeroPaginas}"
                required="true"/>
            <h:message for="paginas"/>
        </div>
        <div>
            <h:outputLabel value="Preço"/>
            <h:inputText
                id="preco"
                value="#{adminLivrosBean.livro.preco}"
                required="true"/>
            <h:message for="preco"/>
        </div>
        <div>
            <h:outputLabel value="Data de publicação"/>
            <h:inputText
                id="dataPublicacao"
                value="#{adminLivrosBean.livro.dataPublicacao}"/>
            <h:message for="dataPublicacao"/>
        </div>
        <div>
            <h:outputLabel value="Autores"/>
            <h:selectManyListbox
                id="autores"
                value="#{adminLivrosBean.livro.autores}"
                converter="autorConverter"
                required="true">
                <f:selectItems 
                    value="#{adminLivrosBean.autores}"
                    var="autor"
                    itemValue="#{autor}" 
                    itemLabel="#{autor.nome}"/>
            </h:selectManyListbox>
            <h:message for="autores"/>
        </div>
        <div>
            <h:outputLabel value="Capa do livro"/>
            <h:inputFile value="#{adminLivrosBean.capaLivro}" id="capaLivro"/>
            <h:message for="capaLivro"/>
        </div>
        <h:commandButton
            value="Cadastrar" action="#{adminLivrosBean.salvar()}"/>
    </h:form>

</html>
